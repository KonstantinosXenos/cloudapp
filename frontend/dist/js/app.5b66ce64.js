(function(t){function e(e){for(var o,r,a=e[0],c=e[1],l=e[2],u=0,f=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(o=!1)}o&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},i={app:0},s=[];function r(t){return a.p+"js/"+({about:"about"}[t]||t)+"."+{about:"e46edd5b"}[t]+".js"}function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=i[t]=[e,o]}));e.push(n[2]=o);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.src=r(t);var l=new Error;s=function(e){c.onerror=c.onload=null,clearTimeout(u);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",l.name="ChunkLoadError",l.type=o,l.request=s,n[1](l)}i[t]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(e)},a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("85ec"),i=n.n(o);i.a},"046b":function(t,e,n){},1640:function(t,e,n){},"1e9e":function(t,e,n){"use strict";var o=n("3598"),i=n.n(o);i.a},"246b":function(t,e,n){"use strict";var o=n("43b7"),i=n.n(o);i.a},3598:function(t,e,n){},"41ec":function(t,e,n){"use strict";var o=n("c6f0"),i=n.n(o);i.a},"43b7":function(t,e,n){},4644:function(t,e,n){"use strict";var o=n("6ee9"),i=n.n(o);i.a},"4a0d":function(t,e,n){"use strict";var o=n("fe82"),i=n.n(o);i.a},5644:function(t,e,n){"use strict";var o=n("046b"),i=n.n(o);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o,i,s,r,a,c,l,u,d,f,p,m,h,_,g,v,b,w,x,y,k,$,C=n("2b0e"),P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},O=[],M=(n("4de4"),n("caad"),n("d81d"),n("2532"),n("159b"),n("bc3a")),j=n.n(M),E=n("2f62"),S=(n("d3b7"),n("8c4f")),D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-container flex-column",staticStyle:{"align-items":"stretch"},attrs:{id:"explorer"}},[n("toolbar",{staticClass:"flex-row"}),n("div",{staticClass:"flex-container flex-row middle-container"},[n("iconpanel",{ref:"icon_panel",staticStyle:{width:"50%"},attrs:{folder_data:t.folder_data},on:{selecteditems:t.selecteditems}}),n("preview",{staticStyle:{"margin-left":"auto",width:"50%"},attrs:{selectedfiles:t.selectedfiles}})],1),n("div",{staticClass:"footer flex-row"})],1)},T=[],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"toolbar"}},[n("div",{staticClass:"rowparent"},[n("div",{staticClass:"toolbar-item",attrs:{id:"pathbar"}},[n("i",{staticClass:"las la-folder fa-rotate-270",staticStyle:{color:"black","margin-right":"1px"}}),t._l(this.$store.getters.folder_path,(function(e){return n("div",{key:e.pk,staticClass:"sidetoside"},[n("b",[t._v(">")]),n("div",{staticClass:"pathbarfolderbuttons",on:{click:function(n){return t.clicked(e.pk)}}},[n("b",[t._v(t._s(e.title))])])])}))],2),n("upbutton",{staticClass:"toolbar-button toolbar-item"}),n("refreshbutton",{staticClass:"toolbar-button toolbar-item"}),n("uploadbutton",{staticClass:"toolbar-button toolbar-item",on:{clickedfile:function(e){return t.open_file_input()}}}),n("label",[t._v(" File "),n("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:".pdf",multiple:""},on:{change:function(e){return t.handleFileUpload()}}})]),n("input",{staticClass:"toolbar-item",attrs:{type:"text",placeholder:"Search..",id:"searchbar"}})],1)])},B=[],L=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{attrs:{id:"toolbarbutton",disabled:t.is_disabled},on:{click:t.click_event}},[n("font-awesome-icon",{style:{color:"white"},attrs:{icon:t.icon}})],1)}),z=[],F={name:"toolbarbutton"},N=F,R=n("2877"),U=Object(R["a"])(N,L,z,!1,null,null,null),Y=U.exports,A={name:"navigation",methods:{go_up:function(){this.router_mode?this.$router.push({name:"explorer",params:{id:this.$store.getters.parent_folder}}):this.$store.dispatch("update_folder_data",this.$store.getters.parent_folder)},change_folder:function(t){this.router_mode?this.$router.push({name:"explorer",params:{id:t}}):this.$store.dispatch("update_folder_data",t)}},data:function(){return{router_mode:!1}}},H=A,X=Object(R["a"])(H,o,i,!1,null,null,null),q=X.exports,K={name:"upmixin",mixins:[q],computed:{is_disabled:function(){return null==this.$store.getters.parent_folder}},methods:{click_event:function(){this.is_disabled||this.go_up()}}},W=K,J=Object(R["a"])(W,s,r,!1,null,null,null),G=J.exports,Q={name:"upbutton",data:function(){return{icon:"level-up-alt"}},mixins:[Y,G]},V=Q,Z=Object(R["a"])(V,a,c,!1,null,null,null),tt=Z.exports,et={name:"uploadfilemixin",computed:{is_disabled:function(){return!1}},methods:{click_event:function(){this.is_disabled||this.$emit("clickedfile")}}},nt=et,ot=Object(R["a"])(nt,l,u,!1,null,null,null),it=ot.exports,st={name:"uploadbutton",data:function(){return{icon:"cloud-upload-alt"}},mixins:[Y,it]},rt=st,at=Object(R["a"])(rt,d,f,!1,null,null,null),ct=at.exports,lt={name:"uploadfilemixin",computed:{is_disabled:function(){return!1}},methods:{click_event:function(){this.$store.dispatch("update_folder_data",this.$store.getters.current_folder_id)}}},ut=lt,dt=Object(R["a"])(ut,p,m,!1,null,null,null),ft=dt.exports,pt={name:"upbutton",data:function(){return{icon:"redo"}},mixins:[Y,ft]},mt=pt,ht=Object(R["a"])(mt,h,_,!1,null,null,null),_t=ht.exports,gt={name:"toolbar",components:{upbutton:tt,uploadbutton:ct,refreshbutton:_t},mixins:[q],methods:{clicked:function(t){this.change_folder(t)},open_file_input:function(){this.$refs.file.click()},handleFileUpload:function(){var t=this;this.$refs.file.files.forEach((function(e){var n=new FormData;n.append("fileuploaded",e),n.append("folder",t.$store.getters.current_folder_id),n.append("original_filename",e.name),n.append("file",""),window.api.post("/api/file/upload/",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return t.$store.dispatch("add_files",[e.data])}))}))}}},vt=gt,bt=(n("57e3"),Object(R["a"])(vt,I,B,!1,null,"c73c66c6",null)),wt=bt.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.fileurl?[n("object",{key:t.fileurl,staticClass:"pdfobject",attrs:{data:t.fileurl}})]:[n("h3",[t._v("Select a file to preview")])]],2)},yt=[],kt=(n("fb6a"),{name:"preview",props:["selectedfiles"],computed:{fileurl:function(){try{return this.$store.getters.get_selected_icons.slice(-1)[0].current_version.fileuploaded}catch(t){return!1}}}}),$t=kt,Ct=(n("5d4e"),Object(R["a"])($t,xt,yt,!1,null,"04f6e030",null)),Pt=Ct.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fullheight",attrs:{id:"icon-panel"}},[n("drag-select-container",{staticClass:"icon-container",attrs:{selectorClass:"item"},on:{change:t.dragselect},nativeOn:{mousedown:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.unselectAll())},contextmenu:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.clickedrightbutton(e))}}},[[n("rightclickmenu",{ref:"rightclickmenu",attrs:{menu_options:t.menu_options_data},on:{optionclicked:t.optionClicked}}),t.empty_folder?n("h3",[t._v("This folder is empty.")]):t._e(),t._l(this.$store.getters.icons,(function(e){return n(t.component_name(e.type),{key:e.pk,ref:"icon",refInFor:!0,tag:"component",staticClass:"item",attrs:{item:e}})}))]],2)],1)},Mt=[],jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon absolute-center",class:[{hovered:t.hover},t.is_selected],attrs:{draggable:"true"},on:{dragstart:t.drag_it,dragover:t.drag_over,dragend:t.drag_end,drop:t.dropped,mousedown:function(e){return e.stopPropagation(),t.iconSelected(e)},mouseup:function(e){return e.stopPropagation(),t.mouse_up(e)},dblclick:function(e){return e.stopPropagation(),t.double_clicked_icon(e)},mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1},contextmenu:function(e){return e.stopPropagation(),t.clickedrightbutton(e)}}},[n("div",{staticClass:"icon-image absolute-center",class:[t.is_cut]},[n("div",{staticClass:"mimetype"},[t._v(t._s(t.item.type))]),t.number_of_comments>0||t.hover||t.is_selected?n("div",{staticClass:"chaticon"},[n("font-awesome-icon",{attrs:{icon:["far","comment"],size:"lg"}}),t.number_of_comments?n("div",{staticClass:"numberofcomments"},[t._v(t._s(t.number_of_comments))]):t._e()],1):t._e(),n("font-awesome-icon",{attrs:{icon:t.icon,size:"5x"}})],1),t.is_getting_renamed?n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"input",staticClass:"icon-title",domProps:{value:t.title},on:{mousedown:function(t){t.stopPropagation()},submit:function(e){return e.preventDefault(),t.stop_renaming(e)},input:function(e){e.target.composing||(t.title=e.target.value)}}}):n("div",{staticClass:"icon-title",domProps:{textContent:t._s(t.item.title)}}),n("div",{staticClass:"modified"},[t._v("Modified:"+t._s(t._f("moment")(t.item.modification_date,"YYYY-MM-DD")))]),n("rightclickmenu",{ref:"rightclickmenu",attrs:{menu_options:t.menu_options_data},on:{optionclicked:t.optionClicked},nativeOn:{mouseup:function(t){t.stopPropagation()},mousedown:function(t){t.stopPropagation()}}})],1)},Et=[],St=(n("99af"),n("c975"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.viewMenu?n("ul",{ref:"right",style:{top:t.top,left:t.left},attrs:{id:"right-click-menu",tabindex:"-1"},on:{contextmenu:function(t){t.preventDefault(),t.stopPropagation()},mousedown:function(t){t.preventDefault()},blur:t.closeMenu}},t._l(t.menu_options,(function(e,o){return n("li",{key:o,domProps:{textContent:t._s(e.name)},on:{click:function(n){return n.stopPropagation(),t.optionclicked(e.func)},mousedown:function(t){t.preventDefault()}}})})),0):t._e()}),Dt=[],Tt={props:["menu_options"],data:function(){return{viewMenu:!1,top:"0px",left:"0px"}},methods:{setMenu:function(t,e){var n=window.innerHeight-this.$refs.right.offsetHeight-25,o=window.innerWidth-this.$refs.right.offsetWidth-25;t>n&&(t=n),e>o&&(e=o),this.top=t+"px",this.left=e+"px"},closeMenu:function(){this.viewMenu=!1},openMenu:function(t){this.viewMenu=!0,this.$nextTick(function(){this.$refs.right.focus(),this.setMenu(t.y,t.x)}.bind(this)),t.preventDefault()},optionclicked:function(t){this.$emit("optionclicked",t),this.closeMenu()}}},It=Tt,Bt=(n("ac89"),Object(R["a"])(It,St,Dt,!1,null,"61e3e6e3",null)),Lt=Bt.exports,zt={name:"icon",components:{rightclickmenu:Lt},props:["item"],computed:{number_of_comments:function(){return this.item.comment.length},is_selected:function(){return this.$store.getters.get_selected_icons.includes(this.item)?"selected":""},is_cut:function(){return this.$store.getters.get_cut_icons.includes(this.item)?"cut":""},is_getting_renamed:function(){return this.$store.getters.is_getting_renamed==this.item&&(this.$nextTick((function(){this.$refs.input.select()})),!0)}},watch:{is_getting_renamed:function(t,e){1==e&&this.$store.dispatch("complete_renaming",{item:this.item,title:this.title})}},methods:{cut:function(){this.$store.dispatch("cut")},stop_renaming:function(){this.$store.commit("start_renaming",null)},iconSelected:function(t){var e=this.$store.getters.get_selected_icons;if(3===t.which&&e.includes(this.item)){var n=[];[this.item].concat(e).forEach((function(t){-1==n.indexOf(t)&&n.push(t)})),this.$store.commit("select_icons",n)}else e.length>1&&e.includes(this.item)||this.$store.commit("select_icons",[this.item])},mouse_up:function(){1===event.which&&this.$store.getters.get_selected_icons.length>1&&this.$store.getters.get_selected_icons.includes(this.item)&&this.$store.commit("select_icons",[this.item])},drag_it:function(t){t.dataTransfer.setData("text/plain",""),t.dataTransfer.effectAllowed="move"},drag_over:function(){"folder"!=this.item.type||this.$store.getters.get_selected_icons.includes(this.item)||(document.documentElement.style.cursor="-webkit-grabbing",event.preventDefault(),console.log("over"))},drag_end:function(){document.documentElement.style.cursor="default"},dropped:function(){this.$store.dispatch("move_files",{folder_array:this.$store.getters.get_selected_icons,new_parent:this.item.pk})},clickedrightbutton:function(t){this.$refs.rightclickmenu.openMenu(t)},optionClicked:function(t){this[t]()},rename:function(){this.$store.commit("start_renaming",this.item)},delete:function(){this.$store.dispatch("delete_selected_items")}},data:function(){return{hover:!1,title:this.item.title,menu_options_data:[{name:"Rename",func:"rename"},{name:"Cut",func:"cut"},{name:"Delete",func:"delete"}]}}},Ft=zt,Nt=(n("4a0d"),Object(R["a"])(Ft,jt,Et,!1,null,"1d9e4e4e",null)),Rt=Nt.exports,Ut={mixins:[q],methods:{double_clicked_icon:function(){this.change_folder(this.item.pk)}}},Yt=Ut,At=Object(R["a"])(Yt,g,v,!1,null,null,null),Ht=At.exports,Xt={name:"folderIcon",data:function(){return{icon:"folder-open"}},mixins:[Rt,Ht]},qt=Xt,Kt=Object(R["a"])(qt,b,w,!1,null,null,null),Wt=Kt.exports,Jt={methods:{double_clicked_icon:function(){}}},Gt=Jt,Qt=Object(R["a"])(Gt,x,y,!1,null,null,null),Vt=Qt.exports,Zt={name:"folderIcon",data:function(){return{icon:"file-pdf"}},mixins:[Rt,Vt]},te=Zt,ee=Object(R["a"])(te,k,$,!1,null,null,null),ne=ee.exports,oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-drag-select",on:{mousedown:t.onMouseDown}},[t._t("default",null,{selectedItems:t.selectedItems}),t.mouseDown&&t.endPoint?n("div",{staticClass:"vue-drag-select-box",style:t.selectionBoxStyling}):t._e()],2)},ie=[];n("7db0"),n("a630"),n("3ca3");function se(t,e,n){var o;return function(){var i=this,s=arguments,r=function(){o=null,n||t.apply(i,s)},a=n&&!o;clearTimeout(o),o=setTimeout(r,e),a&&t.apply(i,s)}}var re,ae,ce,le,ue,de,fe={name:"vue-drag-select",props:{selectorClass:{type:String,required:!0},color:{type:String,default:"rgba(0, 162, 255, .4)"}},data:function(){return{mouseDown:!1,concat:!1,startPoint:null,endPoint:null,selectedItems:[],scrollatstart:null}},computed:{selectionBox:function(){if(!this.mouseDown||!this.startPoint||!this.endPoint)return{};var t=this.$el.getBoundingClientRect(),e=this.getScroll(),n=Math.min(this.startPoint.x,this.endPoint.x)-t.left+e.x,o=0,i=0,s=e.y-this.scrollatstart.y;this.startPoint.y-s<=this.endPoint.y?(o=this.startPoint.y+e.y-s-t.top,i=Math.abs(this.startPoint.y-this.endPoint.y-s)):(o=this.endPoint.y+e.y-t.top,i=Math.abs(this.endPoint.y-this.startPoint.y+s));var r=Math.abs(this.startPoint.x-this.endPoint.x);return{left:n,top:o,width:r,height:i}},selectionBoxStyling:function(){var t=this.selectionBox,e=t.left,n=t.top,o=t.width,i=t.height;return{left:"".concat(e,"px"),top:"".concat(n,"px"),width:"".concat(o,"px"),height:"".concat(i,"px")}}},watch:{selectedItems:function(t){var e=t.map((function(t){return t.item}));this.$store.commit("select_icons",e)}},methods:{getScroll:function(){return"undefined"===typeof document?{x:0,y:0}:{x:this.$el.scrollLeft||document.body.scrollLeft||document.documentElement.scrollLeft,y:this.$el.scrollTop-document.documentElement.scrollTop}},onMouseDown:function(t){2!==t.button&&(this.concat=t.shiftKey,this.mouseDown=!0,this.startPoint={x:t.pageX,y:t.pageY},this.scrollatstart=this.getScroll(),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("scroll",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp))},onMouseMove:function(t){this.mouseDown&&(this.endPoint={x:t.pageX,y:t.pageY},this.searchforselection())},searchforselection:se((function(){var t=this;if(this.mouseDown){var e=this.$children.length?this.$children:this.$el.children;if(e){var n=Array.from(e).filter((function(e){return t.isItemSelected(e.$el||e)}));this.selectedItems=n.length?n:[]}}}),1,!0),onMouseUp:function(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("scroll",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.mouseDown=!1,this.concat=!1,this.startPoint=null,this.endPoint=null},isItemSelected:function(t){if(t.classList&&t.classList.contains(this.selectorClass)){var e=this.selectionBox,n={top:t.offsetTop,left:t.offsetLeft,width:t.clientWidth,height:t.clientHeight};return!!(e.left<=n.left+n.width&&e.left+e.width>=n.left&&e.top<=n.top+n.height&&e.top+e.height>=n.top)}return!1}},mounted:function(){var t=this;this.$children.forEach((function(e){e.$on("click",(function(){var n=t.selectedItems.find((function(t){return e.$el===t.$el}));n?t.selectedItems=t.selectedItems.filter((function(t){return e.$el!==t.$el})):t.selectedItems.push(e)}))}))},beforeDestroy:function(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.$children.forEach((function(t){t.$off("click")}))}},pe=fe,me=(n("41ec"),Object(R["a"])(pe,oe,ie,!1,null,null,null)),he=me.exports,_e={name:"iconpanel",props:["folder_data"],components:{folderIcon:Wt,fileIcon:ne,rightclickmenu:Lt,"drag-select-container":he},computed:{empty_folder:function(){return"undefined"!==typeof this.$store.getters.icons&&0==this.$store.getters.icons.length}},methods:{component_name:function(t){return"folder"==t?"folderIcon":"fileIcon"},dragselect:function(t){return t},unselectAll:function(){this.$store.commit("unselect_all_icons")},clickedrightbutton:function(t){this.$refs.rightclickmenu.openMenu(t)},optionClicked:function(t){this[t](this.$store.getters.get_selected_icons[0])},paste:function(){this.$store.dispatch("paste",{folder_array:this.$store.getters.get_cut_icons,new_parent:this.$store.getters.current_folder_id})},create_new_folder:function(){this.$store.dispatch("create_folder")}},data:function(){return{menu_options_data:[{name:"New Folder",func:"create_new_folder"},{name:"Paste",func:"paste"}],selectedItems:[]}}},ge=_e,ve=(n("4644"),Object(R["a"])(ge,Ot,Mt,!1,null,"64b3bfd6",null)),be=ve.exports,we={name:"explorer",components:{toolbar:wt,preview:Pt,iconpanel:be},watch:{$route:function(t){this.$store.dispatch("update_folder_data",t.params.id)}},methods:{selecteditems:function(t){this.selectedfiles=t}},mounted:function(){this.$store.dispatch("update_folder_data",1)},data:function(){return{contents:[],folder_data:{},selectedfiles:[]}}},xe=we,ye=(n("8ad7"),Object(R["a"])(xe,D,T,!1,null,null,null)),ke=ye.exports,$e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"background",staticStyle:{height:"100%",width:"100%",position:"relative"},attrs:{id:"Desktop"}},[n("taskbar"),n("vue-draggable-resizable",{staticClass:"window radius",attrs:{w:900,h:500,active:!0,parent:!0,"enable-native-drag":!0,"prevent-deactivation":!0,"drag-handle":".drag-handle",handles:["tl","tm","tr","mr","br","bm","bl","ml"],"min-width":200,"min-height":100},on:{dragging:t.onDrag,resizing:t.onResize}},[n("div",{staticClass:"drag-handle"},[n("div",{staticClass:"title vertical-center",domProps:{textContent:t._s("Navigator")}}),n("div",{staticClass:"button-container"},[n("minimizeButton",{staticClass:"vertical-center"}),n("maximizeButton",{staticClass:"vertical-center"}),n("closeButton",{staticClass:"vertical-center"})],1)]),n("div",{staticClass:"content"},[n("explorer",{staticClass:"content"})],1)])],1)},Ce=[],Pe=n("fb19"),Oe=n.n(Pe),Me=(n("6def"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{attrs:{id:"baseButton",disabled:t.is_disabled},on:{click:t.click_event}},[n("font-awesome-icon",{style:{color:"white"},attrs:{icon:t.icon}})],1)}),je=[],Ee={name:"baseButton",computed:{is_disabled:function(){return!1}},methods:{click_event:function(){}}},Se=Ee,De=(n("1e9e"),Object(R["a"])(Se,Me,je,!1,null,"999205ac",null)),Te=De.exports,Ie={name:"closeButton",data:function(){return{icon:"times"}},mixins:[Te]},Be=Ie,Le=Object(R["a"])(Be,re,ae,!1,null,null,null),ze=Le.exports,Fe={name:"closeButton",data:function(){return{icon:"chevron-down"}},mixins:[Te]},Ne=Fe,Re=Object(R["a"])(Ne,ce,le,!1,null,null,null),Ue=Re.exports,Ye={name:"closeButton",data:function(){return{icon:"chevron-up"}},mixins:[Te]},Ae=Ye,He=Object(R["a"])(Ae,ue,de,!1,null,null,null),Xe=He.exports,qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"taskbar"}},[t._v("vbvvvvfgff")])},Ke=[],We={name:"taskbar"},Je=We,Ge=(n("246b"),Object(R["a"])(Je,qe,Ke,!1,null,"314a93bc",null)),Qe=Ge.exports,Ve={name:"Desktop",components:{"vue-draggable-resizable":Oe.a,closeButton:ze,minimizeButton:Ue,maximizeButton:Xe,explorer:ke,taskbar:Qe},data:function(){return{width:0,height:0,x:0,y:0}},methods:{onResize:function(t,e,n,o){this.x=t,this.y=e,this.width=n,this.height=o},onDrag:function(t,e){this.x=t,this.y=e}}},Ze=Ve,tn=(n("5644"),Object(R["a"])(Ze,$e,Ce,!1,null,"7d971fc5",null)),en=tn.exports;C["a"].use(S["a"]);var nn=[{path:"/",redirect:"/explorer/1"},{path:"/explorer/",redirect:"/explorer/1"},{path:"/explorer/:id",name:"explorer",component:ke},{path:"/desktop/",name:"Desktop",component:en},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],on=new S["a"]({mode:"history",base:"/",routes:nn}),sn=on;function rn(t,e){var n=e.map((function(t){return t.pk})),o=t.getters.folder_data,i=o.contents.filter((function(t){return!n.includes(t.pk)}));o.contents=i,console.log(o),t.commit("update_folder_data",o)}window.api=j.a.create({baseURL:"",withCredentials:!0,xsrfCookieName:"X-CSRFTOKEN"}),window.api.defaults.xsrfCookieName="csrftoken",window.api.defaults.xsrfHeaderName="X-CSRFTOKEN",C["a"].use(E["a"]);var an=new E["a"].Store({state:{folder_data:{},path:[],selected_icons:[],renaming:null,parent_folder:null,cut_icons:[]},mutations:{cut:function(t,e){t.cut_icons=e},update_folder_data:function(t,e){t.folder_data=e,t.path=e.path.folders,t.parent_folder=e.parent},add_created_file:function(t,e){t.folder_data.contents.push(e),t.renaming=e},start_renaming:function(t,e){t.renaming=e},select_icons:function(t,e){t.selected_icons=e,t.renaming=null},unselect_all_icons:function(t){t.selected_icons=[],t.selected_icons,t.renaming=null}},actions:{add_files:function(t,e){var n=t.getters.folder_data,o=n.contents.map((function(t){return t.pk})),i=e.filter((function(t){return!o.includes(t.pk)}));i.forEach((function(t){return n.contents.push(t)})),t.commit("update_folder_data",n)},cut:function(t){t.commit("cut",t.getters.get_selected_icons)},paste:function(t){var e=t.getters.get_cut_icons.map((function(e){return{pk:e.pk,parent:t.getters.current_folder_id}}));window.api.patch("/api/item/move/",e).then((function(e){return t.dispatch("add_files",e.data)}),t.commit("cut",[])).catch((function(t){console.log(t)}))},delete_selected_items:function(t){var e=t.state.selected_icons.map((function(t){return{pk:t.pk}}));console.log(e),window.api.delete("/api/item/",{data:e}).then((function(e){return rn(t,e.data)})).catch((function(t){console.log(t)}))},move_files:function(t,e){var n=e.folder_array.map((function(t){return{pk:t.pk,parent:e.new_parent}}));window.api.patch("/api/item/move/",n).then((function(e){return rn(t,e.data)})).catch((function(t){console.log(t)}))},update_folder_data:function(t,e){window.api.get("/api/folders/"+e+"/").then((function(e){return t.commit("update_folder_data",e.data)})).catch((function(t){t.response&&(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers))}))},complete_renaming:function(t,e){var n=e.item.title;e.item.title=e.title,window.api.patch(e.item.url,{title:e.title}).then((function(t){return e.item.title=t.data.title})).catch((function(t){e.item.title=n,console.log(t)}))},go_up:function(){console.log("going up"),sn.push({name:"explorer",params:{id:1}})},create_folder:function(t){var e="New Folder",n="",o=t.getters.folder_data.contents.map((function(t){return t.title}));while(o.includes(e+n))""==n?n=2:n++;window.api.post("/api/folders/",{title:e+n,parent:this.getters.current_folder_id}).then((function(e){return t.commit("add_created_file",e.data)})).catch((function(t){console.log(t)}))},modify_folder_data:function(){console.log(this.state.folder_data)}},getters:{icons:function(t){return t.folder_data.contents},current_folder_id:function(t){return t.folder_data.pk},folder_path:function(t){return t.path},parent_folder:function(t){return t.parent_folder},get_selected_icons:function(t){return t.selected_icons},get_cut_icons:function(t){return t.cut_icons},is_getting_renamed:function(t){return t.renaming},folder_data:function(t){return t.folder_data}}}),cn={name:"app",store:an,metaInfo:{title:"Explorer",titleTemplate:"%s - Cloud",meta:[{"http-equiv":"Content-Type",content:"text/html; charset=utf-8"}]}},ln=cn,un=(n("034f"),Object(R["a"])(ln,P,O,!1,null,null,null)),dn=un.exports,fn=n("ecee"),pn=n("c074"),mn=n("b702"),hn=n("ad3d"),_n=n("58ca"),gn=n("d1d6"),vn=n.n(gn);fn["c"].add(pn["f"],pn["c"],pn["e"],pn["d"],pn["g"],mn["a"],pn["h"],pn["b"],pn["a"]),C["a"].component("font-awesome-icon",hn["a"]),pn["b"],C["a"].use(_n["a"]),C["a"].use(n("2ead")),C["a"].use(gn["debounce"]),C["a"].use(vn.a),C["a"].component("vue-draggable-resizable",Oe.a),C["a"].config.productionTip=!1,new C["a"]({router:sn,render:function(t){return t(dn)}}).$mount("#app")},"57e3":function(t,e,n){"use strict";var o=n("f22f"),i=n.n(o);i.a},"5d4e":function(t,e,n){"use strict";var o=n("1640"),i=n.n(o);i.a},"6def":function(t,e,n){},"6ee9":function(t,e,n){},"85ec":function(t,e,n){},"8ad7":function(t,e,n){"use strict";var o=n("cf5e"),i=n.n(o);i.a},ab54:function(t,e,n){},ac89:function(t,e,n){"use strict";var o=n("ab54"),i=n.n(o);i.a},c6f0:function(t,e,n){},cf5e:function(t,e,n){},f22f:function(t,e,n){},fe82:function(t,e,n){}});
//# sourceMappingURL=app.5b66ce64.js.map