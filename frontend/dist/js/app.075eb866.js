(function(e){function t(t){for(var o,a,l=t[0],c=t[1],s=t[2],u=0,f=[];u<l.length;u++)a=l[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(f.length)f.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(o=!1)}o&&(r.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},i={app:0},r=[];function a(e){return l.p+"js/"+({about:"about"}[e]||e)+"."+{about:"e46edd5b"}[e]+".js"}function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=i[e]=[t,o]}));t.push(n[2]=o);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=a(e);var s=new Error;r=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,n[1](s)}i[e]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("85ec"),i=n.n(o);i.a},"11d2":function(e,t,n){"use strict";var o=n("80e5"),i=n.n(o);i.a},"1a05":function(e,t,n){"use strict";var o=n("4291"),i=n.n(o);i.a},4291:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o,i,r,a,l,c,s,u,d,f,p,m,h,_,b,v,g,x,w=n("2b0e"),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},y=[],$=n("bc3a"),C=n.n($),j=n("2f62"),O=(n("d3b7"),n("8c4f")),S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-container flex-column",staticStyle:{"align-items":"stretch"},attrs:{id:"explorer"}},[n("toolbar"),n("div",{staticClass:"flex-container flex-row",staticStyle:{height:"100%"}},[n("iconpanel",{ref:"icon_panel",staticStyle:{width:"50%"},attrs:{folder_data:e.folder_data},on:{selecteditems:e.selecteditems}}),n("preview",{staticStyle:{"margin-left":"auto",width:"50%"},attrs:{selectedfiles:e.selectedfiles}})],1),n("div",{staticClass:"footer"})],1)},P=[],E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"toolbar"}},[n("div",{staticClass:"rowparent"},[n("div",{attrs:{id:"projecttitle"}},[e._v("AZTEC Docs")]),n("div",{staticClass:"toolbar-item",attrs:{id:"pathbar"}},[n("i",{staticClass:"las la-folder fa-rotate-270",staticStyle:{color:"black","margin-right":"1px"}}),e._l(this.$store.getters.folder_path,(function(t){return n("div",{key:t.pk,staticClass:"sidetoside"},[n("b",[e._v(">")]),n("div",{staticClass:"pathbarfolderbuttons",on:{click:function(n){return e.clicked(t.pk)}}},[n("b",[e._v(e._s(t.title))])])])}))],2),n("upbutton",{staticClass:"toolbar-button toolbar-item"}),n("uploadbutton",{staticClass:"toolbar-button toolbar-item",on:{clickedfile:function(t){return e.open_file_input()}}}),n("label",[e._v(" File "),n("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file",multiple:""},on:{change:function(t){return e.handleFileUpload()}}})]),n("input",{staticClass:"toolbar-item",attrs:{type:"text",placeholder:"Search..",id:"searchbar"}})],1)])},M=[],T=(n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{attrs:{id:"toolbarbutton",disabled:e.is_disabled},on:{click:e.click_event}},[n("font-awesome-icon",{style:{color:"white"},attrs:{icon:e.icon}})],1)}),F=[],I={name:"toolbarbutton"},N=I,A=n("2877"),D=Object(A["a"])(N,T,F,!1,null,null,null),R=D.exports,U={name:"navigation",methods:{go_up:function(){this.$router.push({name:"explorer",params:{id:this.$store.getters.parent_folder}})}}},L=U,H=Object(A["a"])(L,o,i,!1,null,null,null),J=H.exports,K={name:"upmixin",mixins:[J],computed:{is_disabled:function(){return null==this.$store.getters.parent_folder}},methods:{click_event:function(){this.is_disabled||this.go_up()}}},W=K,X=Object(A["a"])(W,r,a,!1,null,null,null),q=X.exports,z={name:"upbutton",data:function(){return{icon:"level-up-alt"}},mixins:[R,q]},Z=z,B=Object(A["a"])(Z,l,c,!1,null,null,null),G=B.exports,Q={name:"uploadfilemixin",computed:{is_disabled:function(){return!1}},methods:{click_event:function(){this.is_disabled||this.$emit("clickedfile")}}},V=Q,Y=Object(A["a"])(V,s,u,!1,null,null,null),ee=Y.exports,te={name:"uploadbutton",data:function(){return{icon:"cloud-upload-alt"}},mixins:[R,ee]},ne=te,oe=Object(A["a"])(ne,d,f,!1,null,null,null),ie=oe.exports,re={name:"toolbar",components:{upbutton:G,uploadbutton:ie},methods:{clicked:function(e){this.$router.push({name:"explorer",params:{id:e}})},open_file_input:function(){this.$refs.file.click()},handleFileUpload:function(){console.log(this.$refs.file.files[0]);var e=this.$refs.file.files[0],t=new FormData;t.append("fileuploaded",e),t.append("folder",this.$store.getters.current_folder_id),t.append("original_filename",e.name),t.append("file",""),window.api.post("/api/fileupload/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){console.log("SUCCESS!!")})).catch((function(){console.log("FAILURE!!")}))}}},ae=re,le=(n("bd48"),Object(A["a"])(ae,E,M,!1,null,"114555c0",null)),ce=le.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e.fileurl?[n("object",{key:e.fileurl,staticClass:"pdfobject",attrs:{data:e.fileurl}})]:[n("h3",[e._v("Select a file to preview")])]],2)},ue=[],de={name:"preview",props:["selectedfiles"],computed:{fileurl:function(){try{return this.$store.getters.get_selected_icons[0].current_version.fileuploaded}catch(e){return console.log(e),!1}}}},fe=de,pe=(n("b72d"),Object(A["a"])(fe,se,ue,!1,null,"20d58caa",null)),me=pe.exports,he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fullheight",attrs:{id:"icon-panel"}},[n("div",{staticClass:"icon-container",on:{mousedown:function(t){return t.target!==t.currentTarget?null:(t.stopPropagation(),e.unselectAll())},contextmenu:function(t){return t.stopPropagation(),e.clickedrightbutton(t,"panel")}}},[n("rightclickmenu",{ref:"rightclickmenu",attrs:{menu_options:e.menu_options_data},on:{optionclicked:function(t){return e.optionClicked(t)}}}),e.empty_folder?n("h3",[e._v("This folder is empty.")]):e._e(),e._l(this.$store.getters.icons,(function(t){return n(e.component_name(t.type),{key:t.pk,ref:"icon",refInFor:!0,tag:"component",attrs:{item:t},nativeOn:{contextmenu:function(n){return n.stopPropagation(),e.clickedrightbutton(n,t)}}})}))],2)])},_e=[],be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"icon absolute-center",class:[{hovered:e.hover},e.is_selected],on:{mousedown:function(t){return t.stopPropagation(),e.iconSelected()},dblclick:function(t){return t.stopPropagation(),e.double_clicked_icon()},mouseover:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1}}},[n("div",{staticClass:"icon-image absolute-center"},[n("font-awesome-icon",{attrs:{icon:e.icon,size:"5x"}}),n("div",{staticClass:"icon-title",domProps:{textContent:e._s(e.item.title)}})],1)])},ve=[],ge=(n("caad"),n("2532"),{name:"icon",props:["item"],computed:{is_selected:function(){return this.$store.getters.get_selected_icons.includes(this.item)?"selected":""}},methods:{iconSelected:function(){this.$store.commit("select_icons",[this.item])}},data:function(){return{hover:!1}}}),xe=ge,we=(n("96b5"),Object(A["a"])(xe,be,ve,!1,null,"5d49acc4",null)),ke=we.exports,ye={methods:{double_clicked_icon:function(){this.$router.push({name:"explorer",params:{id:this.item.pk}})}}},$e=ye,Ce=Object(A["a"])($e,p,m,!1,null,null,null),je=Ce.exports,Oe={name:"folderIcon",data:function(){return{icon:"folder-open"}},mixins:[ke,je]},Se=Oe,Pe=Object(A["a"])(Se,h,_,!1,null,null,null),Ee=Pe.exports,Me={methods:{double_clicked_icon:function(){}}},Te=Me,Fe=Object(A["a"])(Te,b,v,!1,null,null,null),Ie=Fe.exports,Ne={name:"folderIcon",data:function(){return{icon:"file-pdf"}},mixins:[ke,Ie]},Ae=Ne,De=Object(A["a"])(Ae,g,x,!1,null,null,null),Re=De.exports,Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.viewMenu?n("ul",{ref:"right",style:{top:e.top,left:e.left},attrs:{id:"right-click-menu",tabindex:"-1"},on:{contextmenu:function(e){e.preventDefault(),e.stopPropagation()},blur:e.closeMenu}},e._l(e.menu_options,(function(t,o){return n("li",{key:o,domProps:{textContent:e._s(t.name)},on:{click:function(n){return n.stopPropagation(),e.optionclicked(t.func)}}})})),0):e._e()},Le=[],He={props:["menu_options"],data:function(){return{viewMenu:!1,top:"0px",left:"0px"}},methods:{setMenu:function(e,t){var n=window.innerHeight-this.$refs.right.offsetHeight-25,o=window.innerWidth-this.$refs.right.offsetWidth-25;e>n&&(e=n),t>o&&(t=o),this.top=e+"px",this.left=t+"px"},closeMenu:function(){this.viewMenu=!1},openMenu:function(e){this.viewMenu=!0,this.$nextTick(function(){this.$refs.right.focus(),this.setMenu(e.y,e.x)}.bind(this)),e.preventDefault()},optionclicked:function(e){this.$emit("optionclicked",e),this.closeMenu()}}},Je=He,Ke=(n("1a05"),Object(A["a"])(Je,Ue,Le,!1,null,"21e5f56a",null)),We=Ke.exports,Xe={name:"iconpanel",props:["folder_data"],components:{folderIcon:Ee,fileIcon:Re,rightclickmenu:We},computed:{empty_folder:function(){return"undefined"!==typeof this.$store.getters.icons&&0==this.$store.getters.icons.length}},methods:{component_name:function(e){return"folder"==e?"folderIcon":"fileIcon"},unselectAll:function(){this.$store.commit("unselect_all_icons")},clickedrightbutton:function(e,t){this.menu_options_data="panel"==t?[{name:"New Folder",func:"create_new_folder"}]:[{name:"Rename",func:"rename"}],this.$refs.rightclickmenu.openMenu(e)},optionClicked:function(e){this[e](this.selectedicons)},create_new_folder:function(){this.$store.dispatch("create_folder")},rename:function(e){console.log("renaming"),this.$store.commit("start_renaming",e)}},data:function(){return{selectedicons:[],menu_options_data:["Delete","Copy"],renaming:null}}},qe=Xe,ze=(n("11d2"),Object(A["a"])(qe,he,_e,!1,null,"be005ff6",null)),Ze=ze.exports,Be={name:"explorer",components:{toolbar:ce,preview:me,iconpanel:Ze},watch:{$route:function(e){this.$store.dispatch("update_folder_data",e.params.id)}},methods:{selecteditems:function(e){this.selectedfiles=e}},mounted:function(){this.$store.dispatch("update_folder_data",this.$route.params.id)},data:function(){return{contents:[],folder_data:{},selectedfiles:[]}}},Ge=Be,Qe=(n("8ad7"),Object(A["a"])(Ge,S,P,!1,null,null,null)),Ve=Qe.exports;w["a"].use(O["a"]);var Ye=[{path:"/",redirect:"/explorer/1"},{path:"/explorer/",redirect:"/explorer/1"},{path:"/explorer/:id",name:"explorer",component:Ve},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],et=new O["a"]({mode:"history",base:"/",routes:Ye}),tt=et;function nt(){window.location.href="/authentication/login/"}window.api=C.a.create({baseURL:"",withCredentials:!0,xsrfCookieName:"X-CSRFTOKEN"}),window.api.defaults.xsrfCookieName="csrftoken",window.api.defaults.xsrfHeaderName="X-CSRFTOKEN",w["a"].use(j["a"]);var ot=new j["a"].Store({state:{folder_data:{},path:[],selected_icons:[],renaming:null,parent_folder:null},mutations:{update_folder_data:function(e,t){e.folder_data=t,e.path=t.path.folders,e.parent_folder=t.parent},add_created_folder:function(e,t){e.folder_data.contents.push(t)},start_renaming:function(e,t){e.renaming=t},select_icons:function(e,t){e.selected_icons=t},unselect_all_icons:function(e){e.selected_icons=[]}},actions:{update_folder_data:function(e,t){window.api.get("/api/folders/"+t+"/").then((function(t){return e.commit("update_folder_data",t.data)})).catch((function(e){nt(),e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers))}))},go_up:function(){console.log("going up"),tt.push({name:"explorer",params:{id:1}})},create_folder:function(e){window.api.post("/api/folders/",{title:"New Folder",parent:this.getters.current_folder_id}).then((function(t){return e.commit("add_created_folder",t.data)})).catch((function(e){console.log(e)}))}},getters:{icons:function(e){return e.folder_data.contents},current_folder_id:function(e){return e.folder_data.pk},folder_path:function(e){return e.path},parent_folder:function(e){return e.parent_folder},get_selected_icons:function(e){return e.selected_icons}}}),it={name:"app",store:ot},rt=it,at=(n("034f"),Object(A["a"])(rt,k,y,!1,null,null,null)),lt=at.exports,ct=n("ecee"),st=n("c074"),ut=n("ad3d");ct["c"].add(st["d"],st["a"],st["c"],st["b"]),w["a"].component("font-awesome-icon",ut["a"]),w["a"].config.productionTip=!1,new w["a"]({router:tt,render:function(e){return e(lt)}}).$mount("#app")},"7f8d":function(e,t,n){},"80e5":function(e,t,n){},"85ec":function(e,t,n){},"8ad7":function(e,t,n){"use strict";var o=n("cf5e"),i=n.n(o);i.a},"96b5":function(e,t,n){"use strict";var o=n("7f8d"),i=n.n(o);i.a},b72d:function(e,t,n){"use strict";var o=n("bb66"),i=n.n(o);i.a},bb66:function(e,t,n){},bd48:function(e,t,n){"use strict";var o=n("c699"),i=n.n(o);i.a},c699:function(e,t,n){},cf5e:function(e,t,n){}});
//# sourceMappingURL=app.075eb866.js.map