(function(t){function e(e){for(var i,o,r=e[0],l=e[1],c=e[2],u=0,d=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);h&&h(e);while(d.length)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var r=n[o];0!==s[r]&&(i=!1)}i&&(a.splice(e--,1),t=l(l.s=n[0]))}return t}var i={},o={app:0},s={app:0},a=[];function r(t){return l.p+"js/"+({Desktop:"Desktop",about:"about",login:"login"}[t]||t)+"."+{Desktop:"922444bb",about:"f5e3658f",login:"e8daa209"}[t]+".js"}function l(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(t){var e=[],n={Desktop:1,login:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise((function(e,n){for(var i="css/"+({Desktop:"Desktop",about:"about",login:"login"}[t]||t)+"."+{Desktop:"dcd05592",about:"31d6cfe0",login:"3118383d"}[t]+".css",s=l.p+i,a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var c=a[r],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===i||u===s))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){c=d[r],u=c.getAttribute("data-href");if(u===i||u===s)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var i=e&&e.target&&e.target.src||s,a=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=i,delete o[t],h.parentNode.removeChild(h),n(a)},h.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(h)})).then((function(){o[t]=0})));var i=s[t];if(0!==i)if(i)e.push(i[2]);else{var a=new Promise((function(e,n){i=s[t]=[e,n]}));e.push(i[2]=a);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=r(t);var d=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(h);var n=s[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",d.name="ChunkLoadError",d.type=i,d.request=o,n[1](d)}s[t]=void 0}};var h=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=i,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(n,i,function(e){return t[e]}.bind(null,i));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var h=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"01af":function(t,e,n){},"034f":function(t,e,n){"use strict";var i=n("45a9"),o=n.n(i);o.a},"04e3":function(t,e,n){"use strict";var i=n("0c8f"),o=n.n(i);o.a},"0c8f":function(t,e,n){},1245:function(t,e,n){},1819:function(t,e,n){},"2af2":function(t,e,n){"use strict";var i=n("fa3c"),o=n.n(i);o.a},"2af5":function(t,e,n){"use strict";var i=n("746d"),o=n.n(i);o.a},"365e":function(t,e,n){},3789:function(t,e,n){"use strict";var i=n("b7c3"),o=n.n(i);o.a},"3c0f":function(t,e,n){"use strict";var i=n("365e"),o=n.n(i);o.a},"45a9":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i,o,s,a,r,l,c=n("2b0e"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},d=[],h=n("2f62"),m=(n("4de4"),n("caad"),n("c975"),n("d81d"),n("a434"),n("b0c0"),n("2532"),n("1959")),f=n.n(m),p=(n("c740"),n("4160"),n("159b"),!0),g={folder_data:[],cut_icons:[],items_getting_dragged:[]},_={items_getting_dragged:function(t,e){t.items_getting_dragged=e},cut:function(t,e){t.cut_icons=e},update_folder_data:function(t,e){e.forEach((function(e){var n=f.a.findIndex(t.folder_data,{pk:e.pk});-1==n?t.folder_data.push(e):t.folder_data.splice(n,1,e)}))},remove_files:function(t,e){e.forEach((function(e){t.folder_data.splice(f.a.findIndex(t.folder_data,{pk:e.pk}),1)}))}},v={add_folder:function(t){t.commit("taskManager/open_window_add","lol",{root:!0})}},b={get_cut_icons:function(t){return t.cut_icons},folder_data:function(t){return t.folder_data},items_getting_dragged:function(t){return t.items_getting_dragged}},w={namespaced:p,state:g,mutations:_,actions:v,getters:b},x=!0,k={username:"Admin"},y={},M={},z={username:function(t){return t.username}},$={namespaced:x,state:k,mutations:y,actions:M,getters:z},S=!0,C={navigator:w,user:$},P={namespaced:S,modules:C},O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("window",{attrs:{data:t.data,title:t.windowtitle,parentSize:t.parentSize}},[n("navigator",{staticClass:"window-content",attrs:{data:t.data}})],1)},E=[],B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide-fade"}},[n("vuedraggableresizable",{directives:[{name:"show",rawName:"v-show",value:!t.is_minimized,expression:"!is_minimized"}],attrs:{w:t.maximized?this.maximized_width:t.width,h:t.maximized?this.maximized_height:t.height,x:t.maximized?0:this.x,y:t.maximized?0:this.y,active:!0,parent:!0,resizable:!t.maximized,"enable-native-drag":!0,"prevent-deactivation":!0,"drag-handle":".drag-handle",handles:["tm","mr","bm","ml","tl","br","tr","bl"],"min-width":200,"min-height":100,"z-index":t.z_index},on:{dragging:t.onDrag,resizing:t.onResize},nativeOn:{mousedown:function(e){return e.stopPropagation(),t.get_focus(e)},click:function(e){return e.stopPropagation(),t.get_focus(e)},dblclick:function(e){return e.stopPropagation(),t.get_focus(e)}}},[n("div",{class:[{radius:!t.maximized},"window"]},[n("div",{staticClass:"drag-handle",on:{dblclick:t.maximize}},[n("div",{staticClass:"title vertical-center",domProps:{textContent:t._s(t.title)}}),n("div",{staticClass:"button-container"},[n("minimizeButton",{staticClass:"vertical-center",on:{minimize:t.minimize}}),n("maximizeButton",{staticClass:"vertical-center",attrs:{maximized:t.maximized},on:{maximize:t.maximize}}),n("closeButton",{staticClass:"vertical-center",nativeOn:{click:function(e){return e.stopPropagation(),t.close_app(e)},mousedown:function(t){t.stopPropagation()},dblclick:function(t){t.stopPropagation()}}})],1)]),n("div",{staticClass:"window-content"},[t._t("default")],2)])])],1)},D=[],T=(n("6def"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{attrs:{id:"baseButton",disabled:t.is_disabled},on:{click:t.click_event,mousedown:function(t){t.preventDefault(),t.stopPropagation()}}},[n("font-awesome-icon",{attrs:{icon:t.icon}})],1)}),L=[],R={name:"baseButton",computed:{is_disabled:function(){return!1}}},j=R,N=(n("942f"),n("0c7c")),H=Object(N["a"])(j,T,L,!1,null,"67fbeddf",null),W=H.exports,I={name:"closeButton",data:function(){return{icon:"times"}},mixins:[W],methods:{click_event:function(){}}},A=I,Y=Object(N["a"])(A,i,o,!1,null,null,null),U=Y.exports,F={name:"closeButton",data:function(){return{icon:"chevron-down"}},mixins:[W],methods:{click_event:function(){this.$emit("minimize")}}},X=F,q=Object(N["a"])(X,s,a,!1,null,null,null),G=q.exports,K={name:"closeButton",props:["maximized"],computed:{icon:function(){return this.maximized?["far","window-restore"]:"chevron-up"}},data:function(){return{}},mixins:[W],methods:{click_event:function(){this.$emit("maximize")}}},V=K,J=Object(N["a"])(V,r,l,!1,null,null,null),Q=J.exports,Z=function(){var t,e=this,n=e.$createElement,i=e._self._c||n;return i("div",{class:[(t={},t[e.classNameActive]=e.enabled,t[e.classNameDragging]=e.dragging,t[e.classNameResizing]=e.resizing,t[e.classNameDraggable]=e.draggable,t[e.classNameResizable]=e.resizable,t),e.className],style:e.style,on:{mousedown:e.elementDown,touchstart:e.elementTouchDown}},[e._t("default"),e._l(e.actualHandles,(function(t){return i("div",{key:t,class:[e.classNameHandle,e.classNameHandle+"-"+t],style:{display:e.enabled?"block":"none"},on:{mousedown:function(n){return n.stopPropagation(),n.preventDefault(),e.handleDown(t,n)},touchstart:function(n){return n.stopPropagation(),n.preventDefault(),e.handleTouchDown(t,n)}}},[e._t(t)],2)}))],2)},tt=[],et=(n("a4d3"),n("a9e3"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("6062"),n("3ca3"),n("ddb0"),n("2fe6")),nt=n("26a3");n("7db0");function it(t){return"function"===typeof t||"[object Function]"===Object.prototype.toString.call(t)}function ot(t,e,n){var i=t,o=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find((function(t){return it(i[t])}));if(!it(i[o]))return!1;do{if(i[o](e))return!0;if(i===n)return!1;i=i.parentNode}while(i);return!1}function st(t,e,n){t&&(t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,!0):t["on"+e]=n)}function at(t,e,n){t&&(t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener?t.removeEventListener(e,n,!0):t["on"+e]=null)}function rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(n),!0).forEach((function(e){Object(et["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ct={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},ut={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},dt={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"},ht=ct.mouse,mt={replace:!0,name:"vue-draggable-resizable",props:{className:{type:String,default:"vdr"},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},lockAspectRatio:{type:Boolean,default:!1},w:{type:Number,default:200,validator:function(t){return t>0}},h:{type:Number,default:200,validator:function(t){return t>0}},minWidth:{type:Number,default:0,validator:function(t){return t>=0}},minHeight:{type:Number,default:0,validator:function(t){return t>=0}},maxWidth:{type:Number,default:null,validator:function(t){return t>=0}},maxHeight:{type:Number,default:null,validator:function(t){return t>=0}},x:{type:Number,default:0,validator:function(t){return"number"===typeof t}},y:{type:Number,default:0,validator:function(t){return"number"===typeof t}},z:{type:[String,Number],default:"auto",validator:function(t){return"string"===typeof t?"auto"===t:t>=0}},handles:{type:Array,default:function(){return["tl","tm","tr","mr","br","bm","bl","ml"]},validator:function(t){var e=new Set(["tl","tm","tr","mr","br","bm","bl","ml"]);return new Set(t.filter((function(t){return e.has(t)}))).size===t.length}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:function(t){return["x","y","both"].includes(t)}},grid:{type:Array,default:function(){return[1,1]}},parent:{type:Boolean,default:!1},scale:{type:Number,default:1,validator:function(t){return t>0}},onDragStart:{type:Function,default:null},onResizeStart:{type:Function,default:null}},data:function(){return{rawWidth:this.w,rawHeight:this.h,rawLeft:this.x,rawTop:this.y,rawRight:null,rawBottom:null,left:this.x,top:this.y,right:null,bottom:null,aspectFactor:this.w/this.h,parentWidth:null,parentHeight:null,minW:this.minWidth,minH:this.minHeight,maxW:this.maxWidth,maxH:this.maxHeight,handle:null,enabled:this.active,resizing:!1,dragging:!1,zIndex:this.z}},created:function(){this.maxWidth&&this.minWidth>this.maxWidth&&console.warn("[Vdr warn]: Invalid prop: minWidth cannot be greater than maxWidth"),this.maxWidth&&this.minHeight>this.maxHeight&&console.warn("[Vdr warn]: Invalid prop: minHeight cannot be greater than maxHeight"),this.resetBoundsAndMouseState()},mounted:function(){this.enableNativeDrag||(this.$el.ondragstart=function(){return!1});var t=this.getParentSize(),e=Object(nt["a"])(t,2);this.parentWidth=e[0],this.parentHeight=e[1],this.rawRight=this.parentWidth-this.rawWidth-this.rawLeft,this.rawBottom=this.parentHeight-this.rawHeight-this.rawTop,st(document.documentElement,"mousedown",this.deselect),st(document.documentElement,"touchend touchcancel",this.deselect),st(window,"resize",this.checkParentSize)},beforeDestroy:function(){at(document.documentElement,"mousedown",this.deselect),at(document.documentElement,"touchstart",this.handleUp),at(document.documentElement,"mousemove",this.move),at(document.documentElement,"touchmove",this.move),at(document.documentElement,"mouseup",this.handleUp),at(document.documentElement,"touchend touchcancel",this.deselect),at(window,"resize",this.checkParentSize)},methods:{resetBoundsAndMouseState:function(){this.mouseClickPosition={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.bounds={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},checkParentSize:function(){if(this.parent){var t=this.getParentSize(),e=Object(nt["a"])(t,2),n=e[0],i=e[1],o=this.parentWidth-n,s=this.parentHeight-i;this.rawRight-=o,this.rawBottom-=s,this.parentWidth=n,this.parentHeight=i}},getParentSize:function(){if(this.parent){var t=window.getComputedStyle(this.$el.parentNode,null);return[parseInt(t.getPropertyValue("width"),10),parseInt(t.getPropertyValue("height"),10)]}return[null,null]},elementTouchDown:function(t){ht=ct.touch,this.elementDown(t)},elementDown:function(t){var e=t.target||t.srcElement;if(this.$el.contains(e)){if(this.onDragStart&&!1===this.onDragStart(t))return;if(this.dragHandle&&!ot(e,this.dragHandle,this.$el)||this.dragCancel&&ot(e,this.dragCancel,this.$el))return;this.enabled||(this.enabled=!0,this.$emit("activated"),this.$emit("update:active",!0)),this.draggable&&(this.dragging=!0),this.mouseClickPosition.mouseX=t.touches?t.touches[0].pageX:t.pageX,this.mouseClickPosition.mouseY=t.touches?t.touches[0].pageY:t.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.parent&&(this.bounds=this.calcDragLimits()),st(document.documentElement,ht.move,this.move),st(document.documentElement,ht.stop,this.handleUp)}},calcDragLimits:function(){return{minLeft:(this.parentWidth+this.left)%this.grid[0],maxLeft:Math.floor((this.parentWidth-this.width-this.left)/this.grid[0])*this.grid[0]+this.left,minRight:(this.parentWidth+this.right)%this.grid[0],maxRight:Math.floor((this.parentWidth-this.width-this.right)/this.grid[0])*this.grid[0]+this.right,minTop:(this.parentHeight+this.top)%this.grid[1],maxTop:Math.floor((this.parentHeight-this.height-this.top)/this.grid[1])*this.grid[1]+this.top,minBottom:(this.parentHeight+this.bottom)%this.grid[1],maxBottom:Math.floor((this.parentHeight-this.height-this.bottom)/this.grid[1])*this.grid[1]+this.bottom}},deselect:function(t){var e=t.target||t.srcElement,n=new RegExp(this.className+"-([trmbl]{2})","");this.$el.contains(e)||n.test(e.className)||(this.enabled&&!this.preventDeactivation&&(this.enabled=!1,this.$emit("deactivated"),this.$emit("update:active",!1)),at(document.documentElement,ht.move,this.handleMove)),this.resetBoundsAndMouseState()},handleTouchDown:function(t,e){ht=ct.touch,this.handleDown(t,e)},handleDown:function(t,e){this.onResizeStart&&!1===this.onResizeStart(t,e)||(e.stopPropagation&&e.stopPropagation(),this.lockAspectRatio&&!t.includes("m")?this.handle="m"+t.substring(1):this.handle=t,this.resizing=!0,this.mouseClickPosition.mouseX=e.touches?e.touches[0].pageX:e.pageX,this.mouseClickPosition.mouseY=e.touches?e.touches[0].pageY:e.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.bounds=this.calcResizeLimits(),st(document.documentElement,ht.move,this.handleMove),st(document.documentElement,ht.stop,this.handleUp))},calcResizeLimits:function(){var t=this.minW,e=this.minH,n=this.maxW,i=this.maxH,o=this.aspectFactor,s=Object(nt["a"])(this.grid,2),a=s[0],r=s[1],l=this.width,c=this.height,u=this.left,d=this.top,h=this.right,m=this.bottom;this.lockAspectRatio&&(t/e>o?e=t/o:t=o*e,n&&i?(n=Math.min(n,o*i),i=Math.min(i,n/o)):n?i=n/o:i&&(n=o*i)),n-=n%a,i-=i%r;var f={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return this.parent?(f.minLeft=(this.parentWidth+u)%a,f.maxLeft=u+Math.floor((l-t)/a)*a,f.minTop=(this.parentHeight+d)%r,f.maxTop=d+Math.floor((c-e)/r)*r,f.minRight=(this.parentWidth+h)%a,f.maxRight=h+Math.floor((l-t)/a)*a,f.minBottom=(this.parentHeight+m)%r,f.maxBottom=m+Math.floor((c-e)/r)*r,n&&(f.minLeft=Math.max(f.minLeft,this.parentWidth-h-n),f.minRight=Math.max(f.minRight,this.parentWidth-u-n)),i&&(f.minTop=Math.max(f.minTop,this.parentHeight-m-i),f.minBottom=Math.max(f.minBottom,this.parentHeight-d-i)),this.lockAspectRatio&&(f.minLeft=Math.max(f.minLeft,u-d*o),f.minTop=Math.max(f.minTop,d-u/o),f.minRight=Math.max(f.minRight,h-m*o),f.minBottom=Math.max(f.minBottom,m-h/o))):(f.minLeft=null,f.maxLeft=u+Math.floor((l-t)/a)*a,f.minTop=null,f.maxTop=d+Math.floor((c-e)/r)*r,f.minRight=null,f.maxRight=h+Math.floor((l-t)/a)*a,f.minBottom=null,f.maxBottom=m+Math.floor((c-e)/r)*r,n&&(f.minLeft=-(h+n),f.minRight=-(u+n)),i&&(f.minTop=-(m+i),f.minBottom=-(d+i)),this.lockAspectRatio&&n&&i&&(f.minLeft=Math.min(f.minLeft,-(h+n)),f.minTop=Math.min(f.minTop,-(i+m)),f.minRight=Math.min(f.minRight,-u-n),f.minBottom=Math.min(f.minBottom,-d-i))),f},move:function(t){this.resizing?this.handleMove(t):this.dragging&&this.elementMove(t)},elementMove:function(t){var e=this.axis,n=this.mouseClickPosition,i=e&&"y"!==e?n.mouseX-(t.touches?t.touches[0].pageX:t.pageX):0,o=e&&"x"!==e?n.mouseY-(t.touches?t.touches[0].pageY:t.pageY):0,s=this.snapToGrid(this.grid,i,o),a=Object(nt["a"])(s,2),r=a[0],l=a[1];this.rawTop=n.top-l,this.rawBottom=n.bottom+l,this.rawLeft=n.left-r,this.rawRight=n.right+r,this.$emit("dragging",this.left,this.top)},handleMove:function(t){var e=this.handle,n=this.mouseClickPosition,i=n.mouseX-(t.touches?t.touches[0].pageX:t.pageX),o=n.mouseY-(t.touches?t.touches[0].pageY:t.pageY),s=this.snapToGrid(this.grid,i,o),a=Object(nt["a"])(s,2),r=a[0],l=a[1];e.includes("b")?this.rawBottom=n.bottom+l:e.includes("t")&&(this.rawTop=n.top-l),e.includes("r")?this.rawRight=n.right+r:e.includes("l")&&(this.rawLeft=n.left-r),this.$emit("resizing",this.left,this.top,this.width,this.height)},handleUp:function(){this.handle=null,this.resetBoundsAndMouseState(),this.rawTop=this.top,this.rawBottom=this.bottom,this.rawLeft=this.left,this.rawRight=this.right,this.resizing&&(this.resizing=!1,this.$emit("resizestop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,this.$emit("dragstop",this.left,this.top)),at(document.documentElement,ht.move,this.handleMove)},snapToGrid:function(t,e,n){var i=Math.round(e/this.scale/t[0])*t[0],o=Math.round(n/this.scale/t[1])*t[1];return[i,o]}},computed:{style:function(){return lt({position:"absolute",top:this.top+"px",left:this.left+"px",width:this.width+"px",height:this.height+"px",zIndex:this.zIndex},this.dragging&&this.disableUserSelect?ut:dt)},actualHandles:function(){return this.resizable?this.handles:[]},width:function(){return this.parentWidth-this.left-this.right},height:function(){return this.parentHeight-this.top-this.bottom},resizingOnX:function(){return Boolean(this.handle)&&(this.handle.includes("l")||this.handle.includes("r"))},resizingOnY:function(){return Boolean(this.handle)&&(this.handle.includes("t")||this.handle.includes("b"))},isCornerHandle:function(){return Boolean(this.handle)&&["tl","tr","br","bl"].includes(this.handle)}},watch:{active:function(t){this.enabled=t,t?this.$emit("activated"):this.$emit("deactivated")},z:function(t){(t>=0||"auto"===t)&&(this.zIndex=t)},rawLeft:function(t){var e=this.bounds,n=this.aspectFactor,i=this.lockAspectRatio,o=this.left,s=this.top;null!==e.minLeft&&t<e.minLeft?t=e.minLeft:null!==e.maxLeft&&e.maxLeft<t&&(t=e.maxLeft),i&&this.resizingOnX&&(this.rawTop=s-(o-t)/n),this.left=t},rawRight:function(t){var e=this.bounds,n=this.aspectFactor,i=this.lockAspectRatio,o=this.right,s=this.bottom;null!==e.minRight&&t<e.minRight?t=e.minRight:null!==e.maxRight&&e.maxRight<t&&(t=e.maxRight),i&&this.resizingOnX&&(this.rawBottom=s-(o-t)/n),this.right=t},rawTop:function(t){var e=this.bounds,n=this.aspectFactor,i=this.lockAspectRatio,o=this.left,s=this.top;null!==e.minTop&&t<e.minTop?t=e.minTop:null!==e.maxTop&&e.maxTop<t&&(t=e.maxTop),i&&this.resizingOnY&&(this.rawLeft=o-(s-t)*n),this.top=t},rawBottom:function(t){var e=this.bounds,n=this.aspectFactor,i=this.lockAspectRatio,o=this.right,s=this.bottom;null!==e.minBottom&&t<e.minBottom?t=e.minBottom:null!==e.maxBottom&&e.maxBottom<t&&(t=e.maxBottom),i&&this.resizingOnY&&(this.rawRight=o-(s-t)*n),this.bottom=t},x:function(){if(!this.resizing&&!this.dragging){this.parent&&(this.bounds=this.calcDragLimits());var t=this.x-this.left;t%this.grid[0]===0&&(this.rawLeft=this.x,this.rawRight=this.right-t)}},y:function(){if(!this.resizing&&!this.dragging){this.parent&&(this.bounds=this.calcDragLimits());var t=this.y-this.top;t%this.grid[1]===0&&(this.rawTop=this.y,this.rawBottom=this.bottom-t)}},lockAspectRatio:function(t){this.aspectFactor=t?this.width/this.height:void 0},minWidth:function(t){t>0&&t<=this.width&&(this.minW=t)},minHeight:function(t){t>0&&t<=this.height&&(this.minH=t)},maxWidth:function(t){this.maxW=t},maxHeight:function(t){this.maxH=t},w:function(){if(!this.resizing&&!this.dragging){this.parent&&(this.bounds=this.calcResizeLimits());var t=this.width-this.w;t%this.grid[0]===0&&(this.rawRight=this.right+t)}},h:function(){if(!this.resizing&&!this.dragging){this.parent&&(this.bounds=this.calcResizeLimits());var t=this.height-this.h;t%this.grid[1]===0&&(this.rawBottom=this.bottom+t)}}}},ft=mt,pt=Object(N["a"])(ft,Z,tt,!1,null,null,null),gt=pt.exports,_t={name:"window",props:["data","parentSize","title"],components:{vuedraggableresizable:gt,closeButton:U,minimizeButton:G,maximizeButton:Q},mounted:function(){},computed:{is_minimized:function(){return console.log(this.data.unique_name),this.$store.getters["taskManager/minimized_windows"].includes(this.data.unique_name)},z_index:function(){return this.$store.getters["taskManager/open_windows"].indexOf(this.data)},maximized_height:function(){return this.parentSize.y},maximized_width:function(){return this.parentSize.x}},data:function(){return{width:800,height:500,x:110,y:220,maximized:!1,window_container:""}},methods:{onResize:function(t,e,n,i){this.maximized||(this.x=t,this.y=e,this.width=n,this.height=i)},onDrag:function(t,e){this.maximized||(this.x=t,this.y=e)},get_focus:function(){this.$store.commit("taskManager/set_focused_window",this.data)},close_app:function(){this.$store.commit("taskManager/close_window",this.data)},maximize:function(){this.maximized=!this.maximized},minimize:function(){this.$store.commit("taskManager/add_minimized",this.data.unique_name)}}},vt=_t,bt=(n("b399"),n("7840"),Object(N["a"])(vt,B,D,!1,null,"9c564f5c",null)),wt=bt.exports,xt=n("8f73"),kt={name:"navigator-window",props:["data","parentSize"],components:{window:wt,navigator:xt["default"]},computed:{windowtitle:function(){return"lol"}},data:function(){return{}},methods:{}},yt=kt,Mt=Object(N["a"])(yt,O,E,!1,null,"1f7d7e34",null),zt=Mt.exports,$t=!0,St={taskManagerModules:P},Ct={open_windows:[],minimized_windows:[]},Pt={open_window_add:function(t){var e=zt,n=1,i=t.open_windows.map((function(t){return t.unique_name}));while(i.includes(e.name+n))n++;t.open_windows.push({type:e.name,unique_name:e.name+n,component:e})},add_minimized:function(t,e){t.minimized_windows.push(e)},remove_minimized:function(t,e){t.minimized_windows=f.a.remove(t.minimized_windows,e)},close_window:function(t,e){t.open_windows=t.open_windows.filter((function(t){return t.unique_name!==e.unique_name})),t.minimized_windows=f.a.remove(t.minimized_windows,e.unique_name)},set_focused_window:function(t,e){t.open_windows.includes(e)&&t.open_windows.push(t.open_windows.splice(t.open_windows.indexOf(e),1)[0])}},Ot={},Et={open_windows:function(t){return t.open_windows},minimized_windows:function(t){return t.minimized_windows}},Bt={namespaced:$t,modules:St,state:Ct,mutations:Pt,actions:Ot,getters:Et};c["a"].use(h["a"]);var Dt=new h["a"].Store({namespaced:!0,modules:{taskManager:Bt},state:{},mutations:{},actions:{},getters:{}}),Tt={name:"app",store:Dt,metaInfo:{title:"Explorer",titleTemplate:"%s - Cloud",meta:[{"http-equiv":"Content-Type",content:"text/html; charset=utf-8"}]}},Lt=Tt,Rt=(n("034f"),Object(N["a"])(Lt,u,d,!1,null,null,null)),jt=Rt.exports,Nt=n("a18c"),Ht=n("bc3a"),Wt=n.n(Ht),It=n("ecee"),At=n("c074"),Yt=n("b702"),Ut=n("ad3d"),Ft=n("58ca"),Xt=n("d1d6"),qt=n.n(Xt);window.api=Wt.a.create({baseURL:"",withCredentials:!0,xsrfCookieName:"X-CSRFTOKEN"}),window.api.defaults.xsrfCookieName="csrftoken",window.api.defaults.xsrfHeaderName="X-CSRFTOKEN",It["c"].add(At["g"],At["c"],At["f"],At["e"],At["i"],Yt["a"],At["j"],At["b"],At["a"],At["k"],At["h"],At["d"],Yt["b"]),c["a"].component("font-awesome-icon",Ut["a"]),At["h"],c["a"].use(Ft["a"]),c["a"].use(n("2ead")),c["a"].use(Xt["debounce"]),c["a"].use(qt.a);var Gt=n("00e7");c["a"].use(Gt),c["a"].config.productionTip=!1,c["a"].directive("focus",{inserted:function(t){t.focus()}}),new c["a"]({router:Nt["a"],render:function(t){return t(jt)}}).$mount("#app")},"6a75":function(t,e,n){"use strict";var i=n("1245"),o=n.n(i);o.a},"6def":function(t,e,n){},"746d":function(t,e,n){},7840:function(t,e,n){"use strict";var i=n("9744"),o=n.n(i);o.a},"8f73":function(t,e,n){"use strict";n.r(e);var i,o,s,a,r,l,c,u,d,h,m,f,p,g,_,v,b,w,x,k,y,M,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-container flex-column",staticStyle:{"align-items":"stretch"},attrs:{id:"navigator"}},[n("toolbar",{staticClass:"flex-row",attrs:{store:t.store}}),n("div",{staticClass:"flex-container flex-row middle-container"},[n("iconpanel",{ref:"icon_panel",staticStyle:{width:"50%"},attrs:{store:t.store},on:{selecteditems:t.selecteditems}}),n("preview",{staticStyle:{"margin-left":"auto",width:"50%"},attrs:{store:t.store}})],1),n("div",{staticClass:"footer flex-row"})],1)},$=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"toolbar"}},[n("div",{staticClass:"rowparent"},[n("div",{staticClass:"toolbar-item",attrs:{id:"pathbar"}},[n("i",{staticClass:"las la-folder fa-rotate-270",staticStyle:{color:"black","margin-right":"1px"}}),t._l(this.$store.getters[t.store+"folder_path"],(function(e){return n("div",{key:e.pk,staticClass:"sidetoside"},[n("b",[t._v(">")]),n("div",{staticClass:"pathbarfolderbuttons",on:{click:function(n){return t.clicked(e.pk)}}},[n("b",[t._v(t._s(e.title))])])])}))],2),n("upbutton",{staticClass:"toolbar-button toolbar-item",attrs:{store:t.store}}),n("refreshbutton",{staticClass:"toolbar-button toolbar-item",attrs:{store:t.store}}),n("uploadbutton",{staticClass:"toolbar-button toolbar-item",attrs:{store:t.store},on:{clickedfile:function(e){return t.open_file_input()}}}),n("label",[t._v(" File "),n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:".pdf",multiple:""},on:{change:function(e){return t.handleFileUpload()}}})]),n("input",{staticClass:"toolbar-item",attrs:{type:"text",placeholder:"Search..",id:"searchbar"}})],1)])},C=[],P=(n("4160"),n("b0c0"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{attrs:{id:"toolbarbutton",disabled:t.is_disabled},on:{click:t.click_event}},[n("font-awesome-icon",{style:{color:"white"},attrs:{icon:t.icon}})],1)}),O=[],E={name:"toolbarbutton"},B=E,D=n("0c7c"),T=Object(D["a"])(B,P,O,!1,null,null,null),L=T.exports,R={name:"navigation",methods:{go_up:function(t){this.router_mode?this.$router.push({name:"navigator",params:{id:this.$store.getters.parent_folder}}):this.$store.dispatch(t+"update_folder_data",this.$store.getters[t+"parent_folder"])},change_folder:function(t,e){this.router_mode?this.$router.push({name:"navigator",params:{id:t}}):this.$store.dispatch(e+"update_folder_data",t)}},data:function(){return{router_mode:!1}}},j=R,N=Object(D["a"])(j,i,o,!1,null,null,null),H=N.exports,W={name:"upmixin",mixins:[H],computed:{is_disabled:function(){return null==this.$store.getters[this.store+"parent_folder"]}},methods:{click_event:function(){this.is_disabled||this.go_up(this.store)}}},I=W,A=Object(D["a"])(I,s,a,!1,null,null,null),Y=A.exports,U={name:"upbutton",props:["store"],data:function(){return{icon:"level-up-alt"}},mixins:[L,Y]},F=U,X=Object(D["a"])(F,r,l,!1,null,null,null),q=X.exports,G={name:"uploadfilemixin",computed:{is_disabled:function(){return!1}},methods:{click_event:function(){this.is_disabled||this.$emit("clickedfile")}}},K=G,V=Object(D["a"])(K,c,u,!1,null,null,null),J=V.exports,Q={name:"uploadbutton",props:["store"],data:function(){return{icon:"cloud-upload-alt"}},mixins:[L,J]},Z=Q,tt=Object(D["a"])(Z,d,h,!1,null,null,null),et=tt.exports,nt={name:"uploadfilemixin",computed:{is_disabled:function(){return!1}},methods:{click_event:function(){this.$store.dispatch(this.store+"update_folder_data",this.$store.getters[this.store+"current_folder_id"])}}},it=nt,ot=Object(D["a"])(it,m,f,!1,null,null,null),st=ot.exports,at={name:"upbutton",props:["store"],data:function(){return{icon:"redo"}},mixins:[L,st]},rt=at,lt=Object(D["a"])(rt,p,g,!1,null,null,null),ct=lt.exports,ut={name:"toolbar",components:{upbutton:q,uploadbutton:et,refreshbutton:ct},props:["store"],mixins:[H],methods:{clicked:function(t){this.change_folder(t,this.store)},open_file_input:function(){this.$refs.file.click()},handleFileUpload:function(){var t=this;this.$refs.file.files.forEach((function(e){var n=new FormData;n.append("fileuploaded",e),n.append("folder",t.$store.getters[t.store+"current_folder_id"]),n.append("original_filename",e.name),n.append("file",""),window.api.post("/api/file/upload/",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return t.$store.commit("taskManager/taskManagerModules/navigator/update_folder_data",[e.data])}))}))}}},dt=ut,ht=(n("04e3"),Object(D["a"])(dt,S,C,!1,null,"8880e490",null)),mt=ht.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.fileurl?[n("object",{key:t.fileurl,staticClass:"pdfobject",attrs:{data:t.fileurl}})]:[n("h3",[t._v("Select a file to preview")])]],2)},pt=[],gt=(n("4de4"),{name:"preview",props:["store"],computed:{fileurl:function(){var t=this;try{var e=this.$store.getters["taskManager/taskManagerModules/navigator/folder_data"].filter((function(e){return e.pk==t.$store.getters[t.store+"get_selected_icons"][0]}));return!(!e[0]||"file"!==e[0].type)&&e[0].current_version.fileuploaded}catch(n){return console.log(n),!1}}}}),_t=gt,vt=(n("fb91"),Object(D["a"])(_t,ft,pt,!1,null,"fe059afa",null)),bt=vt.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fullheight",attrs:{id:"icon-panel"}},[n("drag-select-container",{staticClass:"icon-container",attrs:{selectorClass:"item",store:t.store},on:{change:t.dragselect},nativeOn:{mousedown:function(e){return e.target!==e.currentTarget?null:t.unselectAll()},contextmenu:function(e){return e.target!==e.currentTarget?null:t.clickedrightbutton(e)},dragover:function(e){return t.drag_over(e)},drop:function(e){return t.dropped(e)}}},[[n("rightclickmenu",{ref:"rightclickmenu",attrs:{menu_options:t.menu_options_data,store:t.store},on:{optionclicked:t.optionClicked}}),t.empty_folder?n("h3",[t._v("This folder is empty.")]):t._e(),t._l(t.items,(function(e){return n(t.component_name(e.type),{key:e.pk,ref:"icon",refInFor:!0,tag:"component",staticClass:"item",attrs:{item:e,store:t.store}})}))]],2)],1)},xt=[],kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon absolute-center",class:[{hovered:t.hover},t.is_selected],attrs:{draggable:!t.is_getting_renamed},on:{dragstart:t.drag_it,dragover:t.drag_over,dragend:t.drag_end,drop:t.dropped,dblclick:t.double_clicked_icon,mousedown:t.iconSelected,mouseup:t.mouse_up,mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1},contextmenu:t.clickedrightbutton}},[n("div",{staticClass:"icon-image absolute-center",class:[t.is_cut]},[n("div",{staticClass:"mimetype"},[t._v(t._s(t.item.type))]),t.number_of_comments>0||t.hover||t.is_selected?n("div",{staticClass:"chaticon"},[n("font-awesome-icon",{attrs:{icon:["far","comment"],size:"lg"}})],1):t._e(),t.number_of_comments?n("div",{staticClass:"numberofcomments"},[t._v(t._s(t.number_of_comments))]):t._e(),n("font-awesome-icon",{style:{color:t.color},attrs:{icon:t.icon,size:"5x"}})],1),t.is_getting_renamed?n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"input",staticClass:"icon-title",attrs:{draggable:"false"},domProps:{value:t.title},on:{submit:function(e){return e.preventDefault(),t.stop_renaming(e)},drag:function(t){t.preventDefault(),t.stopPropagation()},dragstart:function(t){t.preventDefault(),t.stopPropagation()},input:function(e){e.target.composing||(t.title=e.target.value)}}}):n("div",{staticClass:"icon-title",domProps:{textContent:t._s(t.item.title)}}),n("div",{staticClass:"modified"},[t._v("Modified:"+t._s(t._f("moment")(t.item.modification_date,"YYYY-MM-DD")))]),n("rightclickmenu",{ref:"rightclickmenu",attrs:{menu_options:t.menu_options_data,store:t.store},on:{optionclicked:t.optionClicked}})],1)},yt=[],Mt=(n("99af"),n("caad"),n("c975"),n("2532"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.viewMenu?n("ul",{ref:"right",style:{top:t.top,left:t.left},attrs:{id:"right-click-menu",tabindex:"-1"},on:{blur:t.closeMenu,mouseup:function(t){t.stopPropagation(),t.preventDefault()}}},t._l(t.menu_options,(function(e,i){return n("li",{key:i,domProps:{textContent:t._s(e.name)},on:{mousedown:function(t){t.stopPropagation()},click:function(n){return n.stopPropagation(),t.optionclicked(e.func)}}})})),0):t._e()}),zt=[],$t={props:["menu_options"],data:function(){return{viewMenu:!1,top:"0px",left:"0px"}},methods:{setMenu:function(t,e){var n=window.innerHeight-this.$refs.right.offsetHeight-25,i=window.innerWidth-this.$refs.right.offsetWidth-25;t>n&&(t=n),e>i&&(e=i),this.top=t+"px",this.left=e+"px"},closeMenu:function(){this.viewMenu=!1},openMenu:function(t){this.viewMenu=!0,this.$nextTick(function(){this.$refs.right.focus(),this.setMenu(t.y,t.x)}.bind(this)),t.preventDefault()},optionclicked:function(t){this.$emit("optionclicked",t),this.closeMenu()}}},St=$t,Ct=(n("3c0f"),Object(D["a"])(St,Mt,zt,!1,null,"c61287b8",null)),Pt=Ct.exports,Ot={name:"icon",components:{rightclickmenu:Pt},props:["item","store"],computed:{number_of_comments:function(){return this.item.comment.length},is_selected:function(){return this.$store.getters[this.store+"get_selected_icons"].includes(this.item.pk)?"selected":""},is_cut:function(){return this.$store.getters["taskManager/taskManagerModules/navigator/get_cut_icons"].includes(this.item.pk)?"cut":""},is_getting_renamed:function(){return this.$store.getters[this.store+"is_getting_renamed"]==this.item&&(this.$nextTick((function(){this.$refs.input.select()})),!0)}},watch:{is_getting_renamed:function(t,e){1==e&&this.$store.dispatch(this.store+"complete_renaming",{item:this.item,title:this.title})}},methods:{cut:function(){this.$store.dispatch(this.store+"cut")},stop_renaming:function(){this.$store.commit(this.store+"start_renaming",null)},iconSelected:function(t){console.log("Clicked on",this.item.pk);var e=this.$store.getters[this.store+"get_selected_icons"];if(3===t.which&&e.includes(this.item.pk)){var n=[];[this.item.pk].concat(e).forEach((function(t){-1==n.indexOf(t)&&n.push(t)})),this.$store.commit(this.store+"select_icons",n)}else e.length>1&&e.includes(this.item.pk)||(this.$store.commit(this.store+"select_icons",[this.item.pk]),console.log("Selected icon with pk ",this.item.pk))},mouse_up:function(){1===event.which&&this.$store.getters[this.store+"get_selected_icons"].length>1&&this.$store.getters[this.store+"get_selected_icons"].includes(this.item.pk)&&(console.log("Mouse up selection after multiselect",this.item.pk),this.$store.commit(this.store+"select_icons",[this.item.pk]))},drag_it:function(t){this.$store.commit("taskManager/taskManagerModules/navigator/items_getting_dragged",this.$store.getters[this.store+"get_selected_icons"]),t.dataTransfer.setData("itemArray",JSON.stringify(this.$store.getters[this.store+"get_selected_icons"])),t.dataTransfer.effectAllowed="move"},drag_over:function(){"folder"!=this.item.type||this.$store.getters["taskManager/taskManagerModules/navigator/items_getting_dragged"].includes(this.item.pk)||(document.documentElement.style.cursor="-webkit-grabbing",event.preventDefault())},drag_end:function(){document.documentElement.style.cursor="default"},dropped:function(){var t=this.$store.getters["taskManager/taskManagerModules/navigator/items_getting_dragged"];this.$store.dispatch(this.store+"move_files",{pk_array:t,new_parent:this.item.pk})},clickedrightbutton:function(t){this.$refs.rightclickmenu.openMenu(t)},optionClicked:function(t){this[t]()},rename:function(){this.$store.commit(this.store+"start_renaming",this.item)},delete:function(){this.$store.dispatch(this.store+"delete_selected_items")}},data:function(){return{hover:!1,title:this.item.title,menu_options_data:[{name:"Rename",func:"rename"},{name:"Cut",func:"cut"},{name:"Delete",func:"delete"}]}}},Et=Ot,Bt=(n("2af2"),Object(D["a"])(Et,kt,yt,!1,null,"59457edb",null)),Dt=Bt.exports,Tt={mixins:[H],methods:{double_clicked_icon:function(){this.change_folder(this.item.pk,this.store)}}},Lt=Tt,Rt=Object(D["a"])(Lt,_,v,!1,null,null,null),jt=Rt.exports,Nt={name:"folderIcon",data:function(){return{icon:"folder-open",color:"rgb(255, 199, 8)"}},mixins:[Dt,jt]},Ht=Nt,Wt=Object(D["a"])(Ht,b,w,!1,null,null,null),It=Wt.exports,At={methods:{double_clicked_icon:function(){}}},Yt=At,Ut=Object(D["a"])(Yt,x,k,!1,null,null,null),Ft=Ut.exports,Xt={name:"folderIcon",data:function(){return{icon:"file-pdf",color:"rgb(252, 3, 3)"}},mixins:[Dt,Ft]},qt=Xt,Gt=Object(D["a"])(qt,y,M,!1,null,null,null),Kt=Gt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-drag-select",on:{mousedown:function(e){return e.target!==e.currentTarget?null:t.onMouseDown(e)}}},[t._t("default",null,{selectedItems:t.selectedItems}),t.mouseDown&&t.endPoint?n("div",{staticClass:"vue-drag-select-box",style:t.selectionBoxStyling}):t._e()],2)},Jt=[],Qt=(n("7db0"),n("a630"),n("d81d"),n("3ca3"),n("1959")),Zt=n.n(Qt);function te(t,e,n){var i;return function(){var o=this,s=arguments,a=function(){i=null,n||t.apply(o,s)},r=n&&!i;clearTimeout(i),i=setTimeout(a,e),r&&t.apply(o,s)}}var ee={name:"vue-drag-select",props:{store:{type:String,required:!0},selectorClass:{type:String,required:!0},color:{type:String,default:"rgba(0, 162, 255, .4)"}},data:function(){return{mouseDown:!1,concat:!1,startPoint:null,endPoint:null,selectedItems:[],scrollatstart:null}},computed:{selectionBox:function(){if(!this.mouseDown||!this.startPoint||!this.endPoint)return{};var t=this.$el.getBoundingClientRect(),e=this.getScroll(),n=Math.min(this.startPoint.x,this.endPoint.x)-t.left+e.x,i=0,o=0,s=e.y-this.scrollatstart.y;this.startPoint.y-s<=this.endPoint.y?(i=this.startPoint.y+e.y-s-t.top,o=Math.abs(this.startPoint.y-this.endPoint.y-s)):(i=this.endPoint.y+e.y-t.top,o=Math.abs(this.endPoint.y-this.startPoint.y+s));var a=Math.abs(this.startPoint.x-this.endPoint.x);return{left:n,top:i,width:a,height:o}},selectionBoxStyling:function(){var t=this.selectionBox,e=t.left,n=t.top,i=t.width,o=t.height;return{left:"".concat(e,"px"),top:"".concat(n,"px"),width:"".concat(i,"px"),height:"".concat(o,"px")}}},watch:{selectedItems:function(t){var e=t.map((function(t){return t.item.pk})),n=this.$store.getters[this.store+"get_selected_icons"];Zt.a.isEqual(Zt.a.sortBy(n),Zt.a.sortBy(e))||this.$store.commit(this.store+"select_icons",e)}},methods:{getScroll:function(){return"undefined"===typeof document?{x:0,y:0}:{x:this.$el.scrollLeft||document.body.scrollLeft||document.documentElement.scrollLeft,y:this.$el.scrollTop-document.documentElement.scrollTop}},onMouseDown:function(t){2!==t.button&&(this.concat=t.shiftKey,this.mouseDown=!0,this.startPoint={x:t.pageX,y:t.pageY},this.scrollatstart=this.getScroll(),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("scroll",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp))},onMouseMove:function(t){this.mouseDown&&(this.endPoint={x:t.pageX,y:t.pageY},this.searchforselection())},searchforselection:te((function(){var t=this;if(this.mouseDown){var e=this.$children.length?this.$children:this.$el.children;if(e){var n=Array.from(e).filter((function(e){return t.isItemSelected(e.$el||e)}));this.selectedItems=n.length?n:[]}}}),1,!0),onMouseUp:function(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("scroll",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.mouseDown=!1,this.concat=!1,this.startPoint=null,this.endPoint=null},isItemSelected:function(t){if(t.classList&&t.classList.contains(this.selectorClass)){var e=this.selectionBox,n={top:t.offsetTop,left:t.offsetLeft,width:t.clientWidth,height:t.clientHeight};return!!(e.left<=n.left+n.width&&e.left+e.width>=n.left&&e.top<=n.top+n.height&&e.top+e.height>=n.top)}return!1}},mounted:function(){var t=this;this.$children.forEach((function(e){e.$on("click",(function(){var n=t.selectedItems.find((function(t){return e.$el===t.$el}));n?t.selectedItems=t.selectedItems.filter((function(t){return e.$el!==t.$el})):t.selectedItems.push(e)}))}))},beforeDestroy:function(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.$children.forEach((function(t){t.$off("click")}))}},ne=ee,ie=(n("2af5"),Object(D["a"])(ne,Vt,Jt,!1,null,null,null)),oe=ie.exports,se={name:"iconpanel",props:["store"],components:{folderIcon:It,fileIcon:Kt,rightclickmenu:Pt,"drag-select-container":oe},computed:{items:function(){var t=this,e=this.$store.getters["taskManager/taskManagerModules/navigator/folder_data"];if(!e|!this.folder_pk)return[];var n=e.filter((function(e){return e.parent==t.folder_pk}));return n},folder_pk:function(){return this.$store.getters[this.store+"current_folder_id"]},empty_folder:function(){return"undefined"!==typeof this.items&&0==this.items.length}},methods:{component_name:function(t){return"folder"==t?"folderIcon":"fileIcon"},dragselect:function(t){return t},unselectAll:function(){this.$store.commit(this.store+"unselect_all_icons")},clickedrightbutton:function(t){this.$refs.rightclickmenu.openMenu(t)},optionClicked:function(t){this[t](this.$store.getters[this.store+"get_selected_icons"][0])},paste:function(){this.$store.dispatch(this.store+"move_files",{pk_array:this.$store.getters["taskManager/taskManagerModules/navigator/get_cut_icons"],new_parent:this.$store.getters[this.store+"current_folder_id"]}),this.$store.commit("taskManager/taskManagerModules/navigator/cut",[])},create_new_folder:function(){this.$store.dispatch(this.store+"create_folder")},drag_over:function(){console.log("hh"),this.$store.getters["taskManager/taskManagerModules/navigator/items_getting_dragged"]&&(document.documentElement.style.cursor="-webkit-grabbing",event.preventDefault())},dropped:function(){var t=this.$store.getters["taskManager/taskManagerModules/navigator/items_getting_dragged"];this.$store.dispatch(this.store+"move_files",{pk_array:t,new_parent:this.folder_pk})}},data:function(){return{menu_options_data:[{name:"New Folder",func:"create_new_folder"},{name:"Paste",func:"paste"}],selectedItems:[]}}},ae=se,re=(n("6a75"),Object(D["a"])(ae,wt,xt,!1,null,"93d19bb8",null)),le=re.exports,ce=n("a18c");function ue(t){if(t.response)switch(t.response.status){case 403:window.location.href="/login/";break;default:console.log(t)}}var de=!0,he=function(){return{folder_data:{},path:[],selected_icons:[],renaming:null,parent_folder:null,loading:!1,title:"111"}},me={update_folder_data:function(t,e){t.folder_data=e,t.path=e.path.folders,t.parent_folder=e.parent,t.title=e.title},set_loading:function(t,e){t.loading=e},add_created_file:function(t,e){t.folder_data.contents.push(e),t.renaming=e},start_renaming:function(t,e){t.renaming=e},select_icons:function(t,e){console.log("selected icons mutations triggered with",e),t.selected_icons=e,t.renaming=null},unselect_all_icons:function(t){console.log("unselect all"),t.selected_icons=[],t.selected_icons,t.renaming=null}},fe={add_files:function(t,e){var n=t.getters.folder_data,i=n.contents.map((function(t){return t.pk})),o=e.filter((function(t){return!i.includes(t.pk)}));o.forEach((function(t){return n.contents.push(t)})),t.commit("update_folder_data",n)},cut:function(t){t.commit("taskManager/taskManagerModules/navigator/cut",t.getters.get_selected_icons,{root:!0})},paste:function(t){var e=t.getters.get_cut_icons.map((function(e){return{pk:e.pk,parent:t.getters.current_folder_id}}));window.api.patch("/api/item/move/",e).then((function(e){return t.dispatch("add_files",e.data)}),t.commit("taskManager/taskManagerModules/navigator/cut",[],{root:!0})).catch((function(t){console.log(t)}))},delete_selected_items:function(t){var e=t.state.selected_icons.map((function(t){return{pk:t}}));window.api.delete("/api/item/",{data:e}).then((function(e){return t.commit("taskManager/taskManagerModules/navigator/remove_files",e.data,{root:!0})})).catch((function(t){console.log(t)}))},move_files:function(t,e){var n=e.pk_array.map((function(t){return{pk:t,parent:e.new_parent}}));window.api.patch("/api/item/move/",n).then((function(e){return t.commit("taskManager/taskManagerModules/navigator/update_folder_data",e.data,{root:!0})})).catch((function(t){console.log(t)}))},update_folder_data:function(t,e){window.api.get("/api/folders/"+e+"/").then((function(e){t.commit("taskManager/taskManagerModules/navigator/update_folder_data",e.data.contents,{root:!0}),t.commit("update_folder_data",e.data)})).catch((function(t){return ue(t)}))},complete_renaming:function(t,e){var n=e.item.title;e.item.title=e.title,window.api.patch(e.item.url,{title:e.title}).then((function(t){return e.item.title=t.data.title})).catch((function(t){e.item.title=n,console.log(t)}))},go_up:function(){console.log("going up"),ce["a"].push({name:"explorer",params:{id:1}})},create_folder:function(t){var e="New Folder",n="",i=t.rootGetters["taskManager/taskManagerModules/navigator/folder_data"].filter((function(e){return e.parent==t.getters.current_folder_id})).map((function(t){return t.title}));while(i.includes(e+n))""==n?n=2:n++;window.api.post("/api/folders/",{title:e+n,parent:t.getters.current_folder_id}).then((function(e){return t.commit("taskManager/taskManagerModules/navigator/update_folder_data",[e.data],{root:!0}),t.commit("start_renaming",e.data)})).catch((function(t){console.log(t)}))}},pe={icons:function(t){return t.folder_data.contents},current_folder_id:function(t){return t.folder_data.pk},folder_path:function(t){return t.path},parent_folder:function(t){return t.parent_folder},get_selected_icons:function(t){return t.selected_icons},is_getting_renamed:function(t){return t.renaming},folder_data:function(t){return t.folder_data},title:function(t){return t.title}},ge={namespaced:de,state:he,mutations:me,actions:fe,getters:pe},_e={name:"navigator",props:["data"],components:{toolbar:mt,preview:bt,iconpanel:le},watch:{$route:function(t){this.$store.dispatch("update_folder_data",t.params.id)}},methods:{selecteditems:function(t){this.selectedfiles=t}},mounted:function(){this.$store.registerModule(["taskManager","taskManagerModules",this.data.unique_name],ge),this.store="taskManager/taskManagerModules/"+this.data.unique_name+"/",this.$store.dispatch(this.store+"update_folder_data",1)},beforeDestroy:function(){this.$store.unregisterModule(["taskManager","taskManagerModules",this.data.unique_name])},data:function(){return{store:""}}},ve=_e,be=(n("3789"),Object(D["a"])(ve,z,$,!1,null,null,null));e["default"]=be.exports},"942f":function(t,e,n){"use strict";var i=n("1819"),o=n.n(i);o.a},9744:function(t,e,n){},a18c:function(t,e,n){"use strict";n("d3b7");var i=n("2b0e"),o=n("8c4f");i["a"].use(o["a"]);var s=[{path:"/",redirect:"/desktop/"},{path:"/navigator/",redirect:"/navigator/1"},{path:"/navigator/:id",name:"navigator",component:function(){return Promise.resolve().then(n.bind(null,"8f73"))}},{path:"/desktop/",name:"Desktop",component:function(){return n.e("Desktop").then(n.bind(null,"08be"))}},{path:"/login/",name:"login",component:function(){return n.e("login").then(n.bind(null,"89d2"))}},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],a=new o["a"]({mode:"history",base:"/",routes:s});e["a"]=a},b399:function(t,e,n){"use strict";var i=n("01af"),o=n.n(i);o.a},b7c3:function(t,e,n){},fa3c:function(t,e,n){},fb91:function(t,e,n){"use strict";var i=n("ff2f"),o=n.n(i);o.a},ff2f:function(t,e,n){}});
//# sourceMappingURL=app.8df2f7d2.js.map